(this["webpackJsonpopenweather-api-app"]=this["webpackJsonpopenweather-api-app"]||[]).push([[0],{145:function(e,t,a){e.exports=a(273)},150:function(e,t,a){},164:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(90),o=a.n(i),l=(a(150),a(60)),c=a(61),s=a(69),u=a(62),m=a(70),h=a(130),d=a.n(h),f=[{200:{label:"thunderstorm with light rain",icon:"storm-showers"}},{201:{label:"thunderstorm with rain",icon:"storm-showers"}},{202:{label:"thunderstorm with heavy rain",icon:"storm-showers"}},{210:{label:"light thunderstorm",icon:"storm-showers"}},{211:{label:"thunderstorm",icon:"thunderstorm"}},{212:{label:"heavy thunderstorm",icon:"thunderstorm"}},{221:{label:"ragged thunderstorm",icon:"thunderstorm"}},{230:{label:"thunderstorm with light drizzle",icon:"storm-showers"}},{231:{label:"thunderstorm with drizzle",icon:"storm-showers"}},{232:{label:"thunderstorm with heavy drizzle",icon:"storm-showers"}},{300:{label:"light intensity drizzle",icon:"sprinkle"}},{301:{label:"drizzle",icon:"sprinkle"}},{302:{label:"heavy intensity drizzle",icon:"sprinkle"}},{310:{label:"light intensity drizzle rain",icon:"sprinkle"}},{311:{label:"drizzle rain",icon:"sprinkle"}},{312:{label:"heavy intensity drizzle rain",icon:"sprinkle"}},{313:{label:"shower rain and drizzle",icon:"sprinkle"}},{314:{label:"heavy shower rain and drizzle",icon:"sprinkle"}},{321:{label:"shower drizzle",icon:"sprinkle"}},{500:{label:"light rain",icon:"rain"}},{501:{label:"moderate rain",icon:"rain"}},{502:{label:"heavy intensity rain",icon:"rain"}},{503:{label:"very heavy rain",icon:"rain"}},{504:{label:"extreme rain",icon:"rain"}},{511:{label:"freezing rain",icon:"rain-mix"}},{520:{label:"light intensity shower rain",icon:"showers"}},{521:{label:"shower rain",icon:"showers"}},{522:{label:"heavy intensity shower rain",icon:"showers"}},{531:{label:"ragged shower rain",icon:"showers"}},{600:{label:"light snow",icon:"snow"}},{601:{label:"snow",icon:"snow"}},{602:{label:"heavy snow",icon:"snow"}},{611:{label:"sleet",icon:"sleet"}},{612:{label:"shower sleet",icon:"sleet"}},{615:{label:"light rain and snow",icon:"rain-mix"}},{616:{label:"rain and snow",icon:"rain-mix"}},{620:{label:"light shower snow",icon:"rain-mix"}},{621:{label:"shower snow",icon:"rain-mix"}},{622:{label:"heavy shower snow",icon:"rain-mix"}},{701:{label:"mist",icon:"sprinkle"}},{711:{label:"smoke",icon:"smoke"}},{721:{label:"haze",icon:"day-haze"}},{731:{label:"sand, dust whirls",icon:"cloudy-gusts"}},{741:{label:"fog",icon:"fog"}},{751:{label:"sand",icon:"cloudy-gusts"}},{761:{label:"dust",icon:"dust"}},{762:{label:"volcanic ash",icon:"smog"}},{771:{label:"squalls",icon:"day-windy"}},{781:{label:"tornado",icon:"tornado"}},{800:{label:"clear sky",icon:"sunny"}},{801:{label:"few clouds",icon:"cloudy"}},{802:{label:"scattered clouds",icon:"cloudy"}},{803:{label:"broken clouds",icon:"cloudy"}},{804:{label:"overcast clouds",icon:"cloudy"}},{900:{label:"tornado",icon:"tornado"}},{901:{label:"tropical storm",icon:"hurricane"}},{902:{label:"hurricane",icon:"hurricane"}},{903:{label:"cold",icon:"snowflake-cold"}},{904:{label:"hot",icon:"hot"}},{905:{label:"windy",icon:"windy"}},{906:{label:"hail",icon:"hail"}},{951:{label:"calm",icon:"sunny"}},{952:{label:"light breeze",icon:"cloudy-gusts"}},{953:{label:"gentle breeze",icon:"cloudy-gusts"}},{954:{label:"moderate breeze",icon:"cloudy-gusts"}},{955:{label:"fresh breeze",icon:"cloudy-gusts"}},{956:{label:"strong breeze",icon:"cloudy-gusts"}},{957:{label:"high wind, near gale",icon:"cloudy-gusts"}},{958:{label:"gale",icon:"cloudy-gusts"}},{959:{label:"severe gale",icon:"cloudy-gusts"}},{960:{label:"storm",icon:"thunderstorm"}},{961:{label:"violent storm",icon:"thunderstorm"}},{962:{label:"hurricane",icon:"cloudy-gusts"}}],p=function(e){var t,a="wi wi-",n=(new Date).getHours();t=n>6&&n<20?"day-":"night-";var r=e.weather[0].id,i=f.filter((function(e){return e[r]?e:null}));return i=i[0][r].icon,a="".concat(a).concat(i),"".concat(a," wi-owm-").concat(t).concat(r)},y=function(e){var t,a="wi wi-",n=(new Date).getHours();t=n>6&&n<20?"day-":"night-";var r=e,i=f.filter((function(e){return e[r]?e:null}));return i=i[0][r].icon,a="".concat(a).concat(i),"".concat(a," wi-owm-").concat(t).concat(r)},g=function(e,t,a){return a.indexOf(e)===t},b=function(e){return 1.8*(e-273.15)+32},v=a(285),w=a(287),E=a(288),x=a(289),z=a(284),k=(a(164),function(e){var t=e.children;return r.a.createElement("div",{className:"forecast-wrapper"},t)}),_=a(63),F=a.n(_),N=(a(166),function(e){var t=e.day,a=e.handleOnClick,n=e.active;return r.a.createElement("button",{onClick:function(){return a(t)},className:"forecast-card ".concat(n?"forecast-card__active":"")},r.a.createElement("p",{className:"day"},r.a.createElement(F.a,{format:"ddd"},t.dt_txt)),r.a.createElement("div",{className:"weather-icon"},r.a.createElement("i",{className:y(t.main.avgCondition)})),r.a.createElement("div",{className:"temps"},r.a.createElement("div",{className:"temp-high"},Math.round(b(t.main.high)),r.a.createElement("i",{className:"degree-symbol"})),r.a.createElement("div",{className:"temp-low"},Math.round(b(t.main.low)),r.a.createElement("i",{className:"degree-symbol"}))))}),S=(a(167),function(e){var t=e.children;return r.a.createElement("div",{className:"forecast-wrapper"},t)}),A=(a(168),function(e){var t=e.day;e.handleOnClick;return r.a.createElement("div",{className:"forecast-card forecast-card__hourly"},r.a.createElement("p",{className:"time"},r.a.createElement(F.a,{format:"h a"},t.dt_txt)),r.a.createElement("div",{className:"weather-icon"},r.a.createElement("i",{className:p(t)})),r.a.createElement("div",{className:"temps"},r.a.createElement("div",{className:"temp-high"},Math.round(b(t.main.temp_max)),r.a.createElement("i",{className:"degree-symbol"})),r.a.createElement("div",{className:"temp-low"},Math.round(b(t.main.temp_min)),r.a.createElement("i",{className:"degree-symbol"}))))}),C=(a(169),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).geolocationError=function(e){a.setState({forecast:[],location:{},displayHourly:!1,located:!1}),console.warn("ERROR(".concat(e.code,"): ").concat(e.message))},a.handleDailyTempChart=function(e){switch(e){case"high":var t=0;return a.state.hourlyForecastList.map((function(e){var a=Math.round(b(e.main.temp_max));return{x:++t,y:a}}));case"low":var n=0;return a.state.hourlyForecastList.map((function(e){var t=Math.round(b(e.main.temp_min));return{x:++n,y:t}}));case"avg":var r=0;return a.state.hourlyForecastList.map((function(e){var t=Math.round(b(e.main.temp_max)),a=Math.round(b(e.main.temp_min));return{x:++r,y:(t+a)/2}}));default:var i=0;return a.state.hourlyForecastList.map((function(e){var t=Math.round(b(e.main.temp_max)),a=Math.round(b(e.main.temp_min));return{x:++i,y:(t+a)/2}}))}},a.handleKeyPress=function(e){"Enter"===e.key&&a.handleForecastSearch()},a.handleGeoSearch=function(e){var t=e.coords,n="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&APPID=41208a14923fc26bae2f6ae307db826e");fetch(n).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e.list.filter((function(e){return/12:00:00/.test(e.dt_txt)})),n=a.getHighsAndLows(e.list),r=t.map((function(e,t){return e.main.high=n[t].high,e.main.low=n[t].low,e})),i=r.map((function(e){return e.dt_txt.split(" ").shift()})).map((function(t){var a=RegExp(t);return e.list.filter((function(e){return a.test(e.dt_txt)}))})).map((function(e){return a.determineForecastAverage(e)})),o=r.map((function(e,t){return e.main.avgCondition=i[t],e}));a.setState({forecast:o,hourlyFiveDay:e.list,location:e.city,located:!1,displayHourly:!1})})).catch((function(e){console.log(e)}))},a.mostFrequent=function(e){for(var t=e[0].weather[0].id,a=0,n=0;n<e.length;n++){for(var r=0,i=0;i<e.length;i++)e[n].weather[0].id===e[i].weather[0].id&&r++;r>a&&(a=r,t=e[n].weather[0].id)}return t},a.filterDates=function(e,t){console.log(e);var a=RegExp(e);console.log(a);var n=t.filter((function(e){return console.log(e.dt_txt),console.log(a.test(e.dt_txt)),a.test(e.dt_txt)})),r=n.reduce((function(e,t){return t.main.temp_max>e.main.temp_max?t:e})),i=n.reduce((function(e,t){return t.main.temp_min<e.main.temp_min?t:e}));return{high:r.main.temp_max,low:i.main.temp_min}},a.getHighsAndLows=function(e){var t=e||a.state.hourlyFiveDay;return t.map((function(e){return e.dt_txt.split(" ").shift()})).filter(g).map((function(e){return a.filterDates(e,t)}))},a.determineForecastAverage=function(e){return a.mostFrequent(e)},a.handleHourlyForecast=function(e){var t=e.dt,n=a.state.hourlyFiveDay.map((function(e){return e.dt===t&&(e.active=!0),e})),r=a.state.forecast.map((function(e){return e.dt===t?e.active=!0:e.active=!1,e})),i=e.dt_txt.split(" ").shift(),o=RegExp(i),l=n.filter((function(e){return o.test(e.dt_txt)}));a.setState({displayHourly:!0,hourlyForecastList:l,forecast:r})},a.handleForecastSearch=function(){var e=a.zipCode.value;if(e&&5===e.length){var t="https://api.openweathermap.org/data/2.5/forecast?zip=".concat(e,",us&APPID=41208a14923fc26bae2f6ae307db826e");fetch(t).then((function(e){return e.json()})).then((function(e){var t=e.list.map((function(e){return e.active=!1,e})),n=t.filter((function(e){return/12:00:00/.test(e.dt_txt)})),r=a.getHighsAndLows(e.list),i=n.map((function(e,t){return e.main.high=r[t].high,e.main.low=r[t].low,e})),o=i.map((function(e){return e.dt_txt.split(" ").shift()})).map((function(e){var a=RegExp(e);return t.filter((function(e){return a.test(e.dt_txt)}))})).map((function(e){return a.determineForecastAverage(e)})),l=i.map((function(e,t){return e.main.avgCondition=o[t],e}));a.setState({forecast:l,hourlyFiveDay:t,location:e.city,displayHourly:!1})})).catch((function(e){console.log(e),a.setState({forecast:[],location:{},displayHourly:!1})}))}else a.setState({forecast:[],location:{},displayHourly:!1})},a.state={forecast:[],hourlyFiveDay:[],location:{},located:!0,displayHourly:!1,hourlyForecastList:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){e.handleGeoSearch(t)}),this.geolocationError,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):this.setState({located:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.located?r.a.createElement("p",null,"Generating your forecast..."):r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"zipcode"},"zipcode:"),r.a.createElement("input",{id:"zipcode",ref:function(t){return e.zipCode=t},type:"text",placeholder:"e.g. 60618",onKeyPress:this.handleKeyPress}),r.a.createElement("button",{onClick:this.handleForecastSearch},"Search")),this.state.location&&r.a.createElement("h2",null,this.state.location.name),r.a.createElement("div",null,this.state.forecast.length?r.a.createElement(k,null,r.a.createElement("span",null,this.state.forecast.map((function(t){return r.a.createElement(N,{key:Math.round(Math.random()*t.dt),day:t,active:t.active,handleOnClick:function(t){e.handleHourlyForecast(t)}})})))):r.a.createElement("div",null,this.state.located?null:r.a.createElement("p",null,"Get your 5-day forecast!"))),this.state.hourlyForecastList.length&&this.state.displayHourly?r.a.createElement("div",null,r.a.createElement(S,null,r.a.createElement(d.a,{transitionName:"forecast-card",transitionAppear:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:300},this.state.hourlyForecastList.map((function(e){return r.a.createElement(A,{key:e.dt,day:e})})))),r.a.createElement("div",{style:{maxWidth:"800px",margin:"0 auto"}},r.a.createElement(v.a,{theme:w.a.material,domainPadding:{x:20},height:200,style:{data:{opacity:.7},text:{fontFamily:"'Open Sans', Arial, sans-serif !important",fontSize:"8px !important"}}},r.a.createElement(E.a,{crossAxis:!0,theme:w.a.material,standalone:!1,label:"Time",style:{axis:{stroke:"#f5f5f5"},axisLabel:{fontSize:8,padding:30},tickLabels:{fontSize:6,padding:5}}}),r.a.createElement(E.a,{dependentAxis:!0,crossAxis:!0,theme:w.a.material,standalone:!1,label:"Temp (Fahrenheit)",style:{axis:{stroke:"#f5f5f5"},axisLabel:{fontSize:8,padding:30},tickLabels:{fontSize:6,padding:5}}}),r.a.createElement(x.a,{animate:{duration:250,onLoad:{duration:250}},offset:7,colorScale:["rgb(24, 100, 156)","rgb(68, 176, 227)","rgb(144, 209, 240)"]},r.a.createElement(z.a,{alignment:"start",barRatio:.2,data:this.handleDailyTempChart("high")}),r.a.createElement(z.a,{alignment:"start",barRatio:.2,data:this.handleDailyTempChart("avg")}),r.a.createElement(z.a,{alignment:"start",barRatio:.2,data:this.handleDailyTempChart("low")}))),r.a.createElement("p",null,"Daily Temperatures"))):r.a.createElement("div",null,0===this.state.hourlyForecastList.length?r.a.createElement("p",null,"Click on a day to see the hourly forecast."):null))}}]),t}(n.Component)),D=(a(272),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",{className:"App-title"},"Five Day Forecast")),r.a.createElement("p",{className:"App-intro"},"Search your area below:"),r.a.createElement(C,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[145,1,2]]]);
//# sourceMappingURL=main.e0c0f045.chunk.js.map